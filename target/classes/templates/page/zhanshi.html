<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="display: flex">
<div style="width:600px;height:600px">
    <h3>用户男女比例柱状图</h3>
    <!--    echat图表展示位置-->
    <div class = "echart" style="width:600px;height:600px"></div>
</div>
    <div style="width: 600px;height: 600px">
        <h3>病例统计图</h3>
        <!--    echat图表展示位置-->
        <div class = "echart2" style="width:100%;height:100%"></div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
<script src="https://www.jq22.com/jquery/echarts-4.2.1.min.js"></script>

<script>
    $(function (){
        $.ajax({
            url: '/root/tuOne',
            success: function (data){
                console.info("查询");
                console.info(data);
                var number =data.number
                var olderSex =data.olderSex
                // 调用图一的方法
                tuOne(number,olderSex)
            }
        })
    })
    function tuOne(number,olderSex){
        var myCharts =echarts.init(document.querySelector(".echart"))
        //
        var option = {
            xAxis: {
                type: 'category',
                data: olderSex
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                    data: number,
                    type: 'bar'
                }
            ]
        };
        myCharts.setOption(option);
    //     根据页面的大小自动调整图表大小
        window.addEventListener("resize",function (){
            myCharts.resize();
        })
    }
    // 图标2
    $(function (){
        $.ajax({
            url: '/root/tuTwo',
            success: function (data){
                console.info("000000");
                console.info(data);
                // 调用图二的方法
                tuTwo(data)
            }
        })
    })
    function tuTwo(data){
        var myCharts1 =echarts.init(document.querySelector(".echart2"))
        var option2={
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    top: '5%',
                    left: 'center'
                },
                series: [
                    {
                        name: 'Access From',
                        type: 'pie',
                        radius: ['40%', '70%'],
                        avoidLabelOverlap: false,
                        itemStyle: {
                            borderRadius: 10,
                            borderColor: '#fff',
                            borderWidth: 2
                        },
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 40,
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: false
                        },
                        data: data
                    }
                ]
            };
        myCharts1.setOption(option2);
        //     根据页面的大小自动调整图表大小
        window.addEventListener("resize",function (){
            myCharts1.resize();
        })
    }

</script>

</body>
</html>